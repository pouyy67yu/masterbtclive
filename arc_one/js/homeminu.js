Unison=function(){"use strict";var t,e=window,n=document,r=n.head,i={},o=!1,s={parseMQ:function(t){return e.getComputedStyle(t,null).getPropertyValue("font-family").replace(/"/g,"").replace(/'/g,"")},debounce:function(t,e,n){var r;return function(){var i=this,o=arguments;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,o)},e),n&&!r&&t.apply(i,o)}},isObject:function(t){return"object"==typeof t},isUndefined:function(t){return void 0===t}},u={on:function(t,e){s.isObject(i[t])||(i[t]=[]),i[t].push(e)},emit:function(t,e){if(s.isObject(i[t]))for(var n=i[t].slice(),r=0;r<n.length;r++)n[r].call(this,e)}},c={all:function(){for(var t={},e=s.parseMQ(n.querySelector("title")).split(","),r=0;r<e.length;r++){var i=e[r].trim().split(" ");t[i[0]]=i[1]}return o?t:null},now:function(t){var e=s.parseMQ(r).split(" "),e={name:e[0],width:e[1]};return o?s.isUndefined(t)?e:t(e):null},update:function(){c.now(function(e){e.name!==t&&(u.emit(e.name),u.emit("change",e),t=e.name)})}};return e.onresize=s.debounce(c.update,100),n.addEventListener("DOMContentLoaded",function(){o="none"!==e.getComputedStyle(r,null).getPropertyValue("clear"),c.update()}),{fetch:{all:c.all,now:c.now},on:u.on,emit:u.emit,util:{debounce:s.debounce,isObject:s.isObject}}}(),(function(){"use strict";function t(t){return"function"==typeof t}function e(){return function(){setTimeout(n,1)}}function n(){for(var t=0;t<_;t+=2)(0,C[t])(C[t+1]),C[t]=void 0,C[t+1]=void 0;_=0}function r(){}function i(t){try{return t.then}catch(e){return U.error=e,U}}function o(e,n,r){var i,o,u,f,h;n.constructor===e.constructor&&r===L&&constructor.resolve===Q?(i=e,(o=n)._state===D?c(i,o._result):o._state===T?a(i,o._result):l(o,void 0,function(t){s(i,t)},function(t){a(i,t)})):r===U?a(e,U.error):void 0!==r&&t(r)?(u=e,f=n,h=r,S(function(t){var e=!1,n=function(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}(h,f,function(n){e||(e=!0,(f!==n?s:c)(t,n))},function(n){e||(e=!0,a(t,n))},t._label);!e&&n&&(e=!0,a(t,n))},u)):c(e,n)}function s(t,e){var n;t===e?a(t,TypeError("You cannot resolve a promise with itself")):"function"==typeof(n=e)||"object"==typeof n&&null!==n?o(t,e,i(e)):c(t,e)}function u(t){t._onerror&&t._onerror(t._result),f(t)}function c(t,e){t._state===k&&(t._result=e,t._state=D,0!==t._subscribers.length&&S(f,t))}function a(t,e){t._state===k&&(t._state=T,t._result=e,S(u,t))}function l(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+D]=n,i[o+T]=r,0===o&&t._state&&S(f,t)}function f(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?p(n,r,i,o):i(o);t._subscribers.length=0}}function h(){this.error=null}function p(e,n,r,i){var o,u,l,f,h=t(r);if(h){if((o=function(t,e){try{return t(e)}catch(n){return V.error=n,V}}(r,i))===V?(f=!0,u=o.error,o=null):l=!0,n===o)return a(n,TypeError("A promises callback cannot return that same promise.")),0}else o=i,l=!0;n._state!==k||(h&&l?s(n,o):f?a(n,u):e===D?c(n,o):e===T&&a(n,o))}function d(t){t[Y]=q++,t._state=void 0,t._result=void 0,t._subscribers=[]}function v(t){this[Y]=q++,this._result=this._state=void 0,this._subscribers=[],r!==t&&("function"!=typeof t&&function(){throw TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof v?function(t,e){try{e(function(e){s(t,e)},function(e){a(t,e)})}catch(n){a(t,n)}}(this,t):function(){throw TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function y(t,e){this._instanceConstructor=t,this.promise=new t(r),this.promise[Y]||d(this.promise),A(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=Array(this.length),0===this.length?c(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&c(this.promise,this._result))):a(this.promise,Error("Array Methods must be provided an Array"))}var m,$,b,g,w,j,A=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},_=0,S=function(t,e){C[_]=t,C[_+1]=e,2===(_+=2)&&($?$(n):E())},O="undefined"!=typeof window?window:void 0,P=O||{},M=P.MutationObserver||P.WebKitMutationObserver,x="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"===({}).toString.call(process),P="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,C=Array(1e3),E=x?function(){process.nextTick(n)}:M?(g=0,w=new M(n),j=document.createTextNode(""),w.observe(j,{characterData:!0}),function(){j.data=g=++g%2}):P?((b=new MessageChannel).port1.onmessage=n,function(){b.port2.postMessage(0)}):(void 0===O&&"function"==typeof require?function(){try{var t=require("vertx");return m=t.runOnLoop||t.runOnContext,function(){m(n)}}catch(r){return e()}}:e)(),L=function(t,e){var n=this,i=new this.constructor(r);void 0===i[Y]&&d(i);var o,s=n._state;return s?(o=arguments[s-1],S(function(){p(s,i,o,n._result)})):l(n,i,t,e),i},Q=function(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(r);return s(e,t),e},Y=Math.random().toString(36).substring(16),k=void 0,D=1,T=2,U=new h,V=new h,q=0,P=function(t){var e=this;return new e(A(t)?function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}:function(t,e){e(TypeError("You must pass an array to race."))})},O=function(t){var e=new this(r);return a(e,t),e},z=v;v.all=function(t){return new F(this,t).promise},v.race=P,v.resolve=Q,v.reject=O,v._setScheduler=function(t){$=t},v._setAsap=function(t){S=t},v._asap=S,v.prototype={constructor:v,then:L,catch:function(t){return this.then(null,t)}};var F=y;y.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===k&&n<t;n++)this._eachEntry(e[n],n)},y.prototype._eachEntry=function(t,e){var n,s,u=this._instanceConstructor,c=u.resolve;c===Q?(n=i(t))===L&&t._state!==k?this._settledAt(t._state,e,t._result):"function"!=typeof n?(this._remaining--,this._result[e]=t):u===z?(o(s=new u(r),t,n),this._willSettleAt(s,e)):this._willSettleAt(new u(function(e){e(t)}),e):this._willSettleAt(c(t),e)},y.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===k&&(this._remaining--,t===T?a(r,n):this._result[e]=n),0===this._remaining&&c(r,this._result)},y.prototype._willSettleAt=function(t,e){var n=this;l(t,void 0,function(t){n._settledAt(D,e,t)},function(t){n._settledAt(T,e,t)})};var O=function(){if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw Error("polyfill failed because global object is unavailable in this environment")}var e,n=e.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(e.Promise=z)},K={Promise:z,polyfill:O};"function"==typeof define&&define.amd?define(function(){return K}):"undefined"!=typeof module&&module.exports?module.exports=K:void 0!==this&&(this.ES6Promise=K),O()}).call(this);